<div class="screen-background"></div>

<!-- Side Menu -->
<cr-side-menu #sideMenu></cr-side-menu>

<cr-on-boarding
  #onBoarding
  (closeOnBoardingEvent)="showOnBoardingToggle()"
></cr-on-boarding>

<cr-store
  #onStore
  [store]="selectedStore!"
  (closeStoreEvent)="showStoreToggle()"
></cr-store>

<ion-content #mainContent>
  <div class="home-tab-container" *ngIf="selectedTab.id === tabItems[0].id">
    <cr-content-view></cr-content-view>
  </div>

  <div class="w-100 mt-5" *ngIf="selectedTab.id === tabItems[1].id">
    <cr-search></cr-search>
  </div>

  <div class="w-100 mt-5 h-100" *ngIf="selectedTab.id === tabItems[2].id">
    <cr-map></cr-map>
  </div>
</ion-content>

<div #onBoardingBtn class="on-boarding-btn" (click)="showOnBoardingToggle()">
  <ion-icon name="person-outline"></ion-icon>
</div>

<!-- Menu button -->
<canvas
  #menuToggleBtn
  class="side-menu-button"
  riv="menu_button"
  width="44"
  height="44"
  (click)="onMenuToggle()"
  *ngIf="showRiveMenuBtn"
>
  <riv-state-machine name="State Machine" play>
    <riv-input name="isOpen" [value]="isMenuOpen"></riv-input>
  </riv-state-machine>
</canvas>

<!-- White background behind tab bar that partially shows the tab content -->
<div #tabWhiteBg class="tabs-white-underlay"></div>

<!-- Custom Tab -->
<cr-bottom-tab-bar
  #bottomTabs
  style="z-index: 2"
  [selectedTab]="selectedTab"
  (onTabChange)="selectedTab = $event"
></cr-bottom-tab-bar>
