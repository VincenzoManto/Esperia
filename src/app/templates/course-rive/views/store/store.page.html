<div class="main-container">
  <ion-img
    src="assets/course_rive/spline.svg"
    class="bg-spline"
    alt="Spline background for blur effect"
  ></ion-img>

  <canvas
    riv="shapes"
    class="rive-bg"
    [width]="platform.width()"
    [height]="platform.height()"
    *ngIf="showRiveAsset"
  >
    <riv-animation name="Animation 1" play></riv-animation>
  </canvas>

  <!-- Main Content -->
  <div #container class="content-container">
    <ion-img [src]="selectedStore?.logo" class="thumb"></ion-img>
    <div class="title">
      <ion-text>{{
        selectedStore?.name || 'Design+Code Store'
      }}</ion-text>
    </div>
    <div class="subtitle font-body">
      <ion-text>
        {{selectedStore?.description || 'The best shop ever'}}
      </ion-text>
    </div>
    <div class="row justify-content-center p-2">
      <div class="col-auto" *ngFor="let social of ['facebook', 'instagram', 'telegram', 'x']" [class.d-none]="!selectedStore?.[social]">
        <a class="social-btn" [href]="selectedStore?.[social]">
          <ion-icon name="logo-{{social}}"></ion-icon>
        </a>
      </div>
    </div>
    <div class="map-container">
      <div id="map" style="width: 100%; height: 100%;"></div>
    </div>
    <div class="spacer"></div>

    <h6 class="font-title2 text-center" *ngIf="lastNews?.length">Last news</h6>
    <div class="row justify-content-center">
      <cr-news-card class="col-12"
      *ngFor="let news of lastNews"
      [noRedirect]="true"
      [section]="news"
      ></cr-news-card>
  </div>

  <ion-button #closeBtn class="close-btn" (click)="onCloseStore()">
    <ion-icon name="close-outline"></ion-icon>
  </ion-button>

  <ion-modal
    #modal
    backdropDismiss="false"
    [enterAnimation]="enterAnimation"
    [leaveAnimation]="leaveAnimation"
  >
    <ng-template>
      <div class="ion-page">
      </div>
    </ng-template>
  </ion-modal>
</div>
